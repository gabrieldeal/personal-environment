#!/usr/bin/env bash

function slack_specs() {
    find spec/ -name \*_spec.rb | grep --regex slack --regex find_controller_spec
}

function printing_specs() {
    find spec/ -name \*_spec.rb | grep -e print -e svg
}

fail() {
    echo "$@" 1>&2
    exit 1
}

type="$1"
case "$type" in
    print*)
	printing_specs
	;;
    slack-short)
	slack_specs | grep -v -e find_controller_spec -e employee_slack_search_spec
	;;
    slack)
	slack_specs
	;;
    slack-desk-booking)
	slack_specs | grep desk_booking
	;;
    *)
	fail "Usage: $0 TYPE"
	;;
esac
